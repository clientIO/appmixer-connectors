{
    "name": "appmixer.actimo.messages.SendMessage",
    "author": "Tomas Waldauf <tomas@client.io>",
    "description": "Send a message to recipient(s).",
    "private": false,
    "auth": {
        "service": "appmixer:actimo",
        "scope": []
    },
    "inPorts": [
        {
            "name": "message",
            "schema": {
                "type": "object",
                "properties": {
                    "text": { "type": "string" },
                    "recipients": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        }
                    },
                    "groups": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        }
                    }
                },
                "required": ["text", "recipients"]
            },
            "inspector": {
                "inputs": {
                    "text": {
                        "type": "textarea",
                        "group": "transformation",
                        "label": "Message",
                        "index": 1
                    },
                    "recipients": {
                        "type": "multiselect",
                        "group": "transformation",
                        "label": "Recipients",
                        "index": 2,
                        "mergeVariables": true,
                        "source": {
                            "url": "/component/appmixer/actimo/contacts/GetContacts?outPort=contact",
                            "data": {
                                "properties": { "sendWholeArray": true },
                                "transform": "./GetContacts#contactsToSelectArray"
                            }
                        },
                        "tooltip": "Select one or multiple message recipients."
                    },
                    "groups": {
                        "type": "multiselect",
                        "group": "transformation",
                        "label": "Groups",
                        "index": 2,
                        "mergeVariables": true,
                        "source": {
                            "url": "/component/appmixer/actimo/groups/GetGroups?outPort=groups",
                            "data": {
                                "transform": "./GetGroups#contactsToSelectArray"
                            }
                        },
                        "tooltip": "Select one or multiple message groups."
                    }
                },
                "groups": {
                    "transformation": {
                        "label": "Transformation",
                        "index": 1
                    }
                }
            }
        }
    ],
    "outPorts": [
        {
            "name": "result",
            "options": [
                { "label": "ts", "value": "ts" },
                { "label": "type", "value": "type" },
                { "label": "text", "value": "text" },
                { "label": "user", "value": "user" },
                { "label": "bot_id", "value": "bot_id" }
            ]
        }
    ],
    "icon": "data:image/png;base64,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"
}
